# Core
PATCHWORK_BIND_ADDR=:8080
PATCHWORK_DATA_DIR=./data
PATCHWORK_LOG_LEVEL=info

# Optional bootstrap admin token
# PATCHWORK_BOOTSTRAP_ADMIN_TOKEN=change-me

# Optional OIDC web login
# PATCHWORK_OIDC_ISSUER=https://id.example.com
# PATCHWORK_OIDC_CLIENT_ID=patchwork
# PATCHWORK_OIDC_CLIENT_SECRET=change-me
# PATCHWORK_OIDC_REDIRECT_URL=https://patch.example.com/auth/oidc/callback
# PATCHWORK_OIDC_SCOPES=openid profile email
# PATCHWORK_OIDC_ADMIN_SUBJECTS=user-1,user-2
PATCHWORK_WEB_SESSION_TTL=12h

# HTTP timeouts
PATCHWORK_READ_HEADER_TIMEOUT=5s
PATCHWORK_READ_TIMEOUT=30s
PATCHWORK_WRITE_TIMEOUT=30s

# Runtime worker lifecycle
PATCHWORK_IDLE_WORKER_TIMEOUT=10m
PATCHWORK_CLEANUP_INTERVAL=1m

# Request rate limiting
PATCHWORK_RATE_LIMIT_GLOBAL_RPS=200
PATCHWORK_RATE_LIMIT_GLOBAL_BURST=400
PATCHWORK_RATE_LIMIT_TOKEN_RPS=50
PATCHWORK_RATE_LIMIT_TOKEN_BURST=100

# Blob GC
PATCHWORK_BLOB_GC_INTERVAL=1h
PATCHWORK_BLOB_GC_GRACE_PERIOD=24h

# Optional blob signed URL data-plane access
# PATCHWORK_BLOB_SIGNING_KEY=change-me
PATCHWORK_BLOB_SIGNED_URL_TTL=15m

# SQLite driver + extension loading (go-sqlite3 / cgo)
# Explicit extension paths are treated as required at startup connection time.
# PATCHWORK_SQLITE_EXTENSION_CRSQLITE=/opt/patchwork/extensions/crsqlite
# PATCHWORK_SQLITE_EXTENSION_CRSQLITE_ENTRYPOINT=sqlite3_crsqlite_init
# PATCHWORK_SQLITE_EXTENSION_VEC=/opt/patchwork/extensions/vec0
# PATCHWORK_SQLITE_EXTENSION_VEC_ENTRYPOINT=sqlite3_vec_init
# PATCHWORK_SQLITE_EXTENSION_SQLEAN=/opt/patchwork/extensions/sqlean
# PATCHWORK_SQLITE_EXTENSION_SQLEAN_ENTRYPOINT=sqlite3_sqlean_init
# Optional: load safe sqlean modules from a directory (crypto/math/regexp/stats/text/time/unicode/uuid)
# PATCHWORK_SQLITE_EXTENSION_SQLEAN_DIR=/opt/patchwork/extensions/sqlean
# Optional: extra required extensions (comma-separated path or path|entrypoint)
# PATCHWORK_SQLITE_EXTENSIONS=/opt/patchwork/extensions/custom|sqlite3_custom_init
PATCHWORK_SQLITE_WARN_MISSING_COMPILE_OPTIONS=true
# Optional: fail startup connection if any required compile option is missing
# PATCHWORK_SQLITE_REQUIRED_COMPILE_OPTIONS=ENABLE_FTS5,ENABLE_SESSION,ENABLE_PREUPDATE_HOOK,ENABLE_SNAPSHOT,ENABLE_RBU,ENABLE_ICU,ENABLE_RTREE,ENABLE_GEOPOLY
# Optional: override recommendation warning set
# PATCHWORK_SQLITE_RECOMMENDED_COMPILE_OPTIONS=ENABLE_FTS5,ENABLE_SESSION,ENABLE_PREUPDATE_HOOK,ENABLE_SNAPSHOT,ENABLE_RBU,ENABLE_ICU,ENABLE_RTREE,ENABLE_GEOPOLY
